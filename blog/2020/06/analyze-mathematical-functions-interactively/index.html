<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <link rel="stylesheet" href="/libs/katex/katex.min.css">
  
  
    <link rel="stylesheet" href="/libs/highlight/github.min.css">
  
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700" rel="stylesheet">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="icon" href="/assets/picture-32.png">

  <title>Analyze mathematical functions interactively &middot; Zlatan's Journal</title>
  <meta name="author" content="Zlatan Vasović">
  <meta name="description" content="An alternative way to do common math exercises. &mdash; An exploratory journey into interdisciplinary research. Created by Zlatan Vasović.">
  <meta name="keywords" content="zlatan, vasovic, zlatanvasovic, github, blog, developer, researcher">
</head>
<body> <!-- closed in foot.html -->
  <div class="container-lg p-lg-5 mb-4">
    <div class="row">
      <div class="col">
        <h1 class="text-title font-weight-bold display-4">Zlatan's Journal</h1>
        <p class="lead">An exploratory journey into interdisciplinary research.</p>
      </div>
      <div class="col-lg-3 text-lg-right">
        <p><img class="border border-dark" src="/assets/picture.png" alt="A picture of me" width="125"></p>
      </div>
    </div>
    <ul class="nav nav-pills">
      <li class="nav-item">
        <a class="nav-link " href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="/projects">Projects</a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="/about">About me</a>
      </li>
      <li class="nav-item float-md-right">
        <a class="nav-link" href="https://github.com/zlatanvasovic">GitHub</a>
      </li>
    </ul>
    <hr class="bg-primary">
    <div class="container-fluid p-0 mt-5 mb-5">
      
        <h1 class="text-title">Analyze mathematical functions interactively</h1>
        <h4 class="mb-5 font-weight-light">June 24, 2020</h4>
      

<!-- Content appended here (in class franklin-content) -->
<div class="franklin-content"><p>Finding function&#39;s roots, derivatives, maxima and minima, and similar are common exercises in mathematics. For simple functions, it&#39;s easy to do it on paper. For more complex ones, not as much.</p>
<p>However, you&#39;d want to check your solution in any case. A common way to do that is to use a website with the tools for functional analysis &#40;like Wolfram Alpha&#41;, or even better, a more complete software &#40;like Mathematica&#41;.</p>
<p>Such software is usually proprietary, so to use its full potential, you have to pay. Ultimately, students who are financially limited cannot use it. Another problem is that you cannot use the software for higher-level programming, which limits your future work.</p>
<p>An alternative way is to use a programming language suited for the job. One of the modern options is Julia, with common math functions available without imports &#40;<code>Math.sqrt</code> needed no more&#41;. Here I&#39;ll present a way to do it in Julia&#39;s REPL &#40;read-eval-print loop&#41;, which gives you the answers interactively, rather than executing a file with your code.</p>
<h2 id="plotting"><a href="#plotting">Plotting</a></h2>
<p>Before going further with your analysis, it&#39;s useful to take a look at the function&#39;s graph. A common way to do that in Julia is with the <code>Plots</code> package &#40;<code>&#93;add Plots</code> to add it in Julia REPL&#41;.</p>

<div class="alert alert-warning" role="alert">
  Running the Plots package for the first time can be slow.
  That is being continuously improved, though.
</div>

<p>We&#39;ll try to plot this polynomial:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mn>3</mn></msup><mo>−</mo><mn>6</mn><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>11</mn><mi>x</mi><mo>−</mo><mn>6</mn></mrow><annotation encoding="application/x-tex"> f(x) = x^3 - 6x^2 + 11x - 6 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9474379999999999em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span></span>
<p>It is as simple as:</p>
<pre><code class="julia-repl hljs"><span class="hljs-meta">julia&gt;</span><span class="julia"> <span class="hljs-keyword">using</span> Plots
</span>
<span class="hljs-meta">julia&gt;</span><span class="julia"> f(x) = x^<span class="hljs-number">3</span> - <span class="hljs-number">6</span>x^<span class="hljs-number">2</span> + <span class="hljs-number">11</span>x - <span class="hljs-number">6</span>
</span>f (generic function with 1 method)
<span class="hljs-meta">julia&gt;</span><span class="julia"> plot(f)</span></code></pre>

<img src="/assets/img/plot-1.png" class="img-fluid" alt="Basic plot">

<h2 id="finding_roots"><a href="#finding_roots">Finding roots</a></h2>
<p>The graph is there, but it isn&#39;t really precise, as you can&#39;t tell where the roots are exactly. Looking at it, you may notice they are somewhere in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex"> [0, 4] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span>. To plot on range <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex"> [a, b] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">b</span><span class="mclose">]</span></span></span></span> only, use <code>plot&#40;f, a, b&#41;</code>. It&#39;s also useful to put the x-axis, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex"> y = 0 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> &#40;named <code>zero</code> in Julia&#41;, on the same graph.</p>
<pre><code class="julia-repl hljs"><span class="hljs-meta">julia&gt;</span><span class="julia"> plot(f, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>)
</span><span class="hljs-meta">julia&gt;</span><span class="julia"> plot!(zero, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>) <span class="hljs-comment"># don&#x27;t forget the range for zero function</span></span></code></pre>

<img src="/assets/img/plot-2.png" class="img-fluid" alt="Plot with custom range">

<p>There are the three roots that the polynomial has. They obviously are 1, 2 and 3, but let&#39;s check it.</p>
<p>Very unexpectedly, there&#39;s <code>Roots</code> package, too &#40;<code>&#93;add Roots</code>&#41;. It requires a range to look for the solutions, but we already have that &#40;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex"> [0, 4] </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">]</span></span></span></span>&#41;. It turns out our solutions were right:</p>
<pre><code class="julia-repl hljs"><span class="hljs-meta">julia&gt;</span><span class="julia"> <span class="hljs-keyword">using</span> Roots
</span>
<span class="hljs-meta">julia&gt;</span><span class="julia"> find_zeros(f, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>)
</span>3-element Array{Float64,1}:
 0.9999999999999999
 2.0
 3.0000000000000004</code></pre>

<div class="alert alert-info" role="alert">
  Roots has a better-equipped function <code>find_zero</code>, but it cannot find multiple zeros at once.
</div>

<h2 id="derivatives"><a href="#derivatives">Derivatives</a></h2>
<p>The third and the last package for today is <code>Calculus</code> &#40;don&#39;t forget to add it&#41;. It has a simple interface for differentiating a function.</p>
<p>We suspect that derivative is close to zero around 1.4 &#40;local extremum&#41; and that second derivative is close to zero around 2.0 &#40;inflection point&#41;.</p>
<pre><code class="julia-repl hljs"><span class="hljs-meta">julia&gt;</span><span class="julia"> <span class="hljs-keyword">using</span> Calculus
</span>
<span class="hljs-meta">julia&gt;</span><span class="julia"> derivative(f, <span class="hljs-number">1.4</span>)
</span>0.08000000003876237
<span class="hljs-meta">julia&gt;</span><span class="julia"> second_derivative(f)(<span class="hljs-number">2.0</span>)
</span>-1.9021615881580974e-6</code></pre>
<p>&#40;<code>second_derivative</code> has to be used this way, for technical reasons.&#41;</p>
<p>Let&#39;s plot the derivative, to combine all the ideas from this post:</p>
<pre><code class="julia hljs">julia&gt; plot(derivative(f), <span class="hljs-number">0</span>, <span class="hljs-number">4</span>)

julia&gt; plot!(zero, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>)</code></pre>

<img src="/assets/img/plot-3.png" class="img-fluid" alt="Derivative's plot with custom range">

<h2 id="symbolic_differentiation"><a href="#symbolic_differentiation">Symbolic differentiation</a></h2>
<p>Perhaps you want not only to check your derivative numerically, but also symbolically. For example, you may want to check is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>d</mi><mrow><mi>d</mi><mi>x</mi></mrow></mfrac><mo stretchy="false">(</mo><msup><mi>e</mi><mi>x</mi></msup><mo>+</mo><msup><mi>x</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>=</mo><msup><mi>e</mi><mi>x</mi></msup><mo>+</mo><mn>2</mn><mi>x</mi></mrow><annotation encoding="application/x-tex"> \frac{d}{dx} (e^x + x^2) = e^x + 2x </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251079999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801079999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mord mathdefault mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">x</span></span></span></span>. That involves a bit more work.</p>
<p>First, it is more convenient to define your function as a symbolic expression. You do that by adding <code>:&#40;&#41;</code> around the expression:</p>
<pre><code class="julia-repl hljs"><span class="hljs-meta">julia&gt;</span><span class="julia"> f = :(<span class="hljs-literal">e</span>^x + x^<span class="hljs-number">2</span>)</span></code></pre>
<p>Now using <code>Calculus</code>, you can get a symbolic expression for the derivative:</p>
<pre><code class="julia-repl hljs"><span class="hljs-meta">julia&gt;</span><span class="julia"> (differentiate(f))
</span>:(e ^ x * ((0x) / e + 1 * log(e)) + 2 * 1 * x ^ (2 - 1))</code></pre>
<p>Neat, isn&#39;t it? &#40;No, it isn&#39;t.&#41; You can make it more neat using <code>simplify</code> and <code>deparse</code>, also provided by <code>Calculus</code>:</p>
<pre><code class="julia hljs">julia&gt; simplify(ans)
:(<span class="hljs-literal">e</span> ^ x * log(<span class="hljs-literal">e</span>) + <span class="hljs-number">2</span>x)
julia&gt; deparse(ans)
<span class="hljs-string">&quot;e ^ x * log(e) + 2 * x&quot;</span></code></pre>
<p><code>ans</code> represents the answer of the previous input, just like on your pocket calculator. It still isn&#39;t perfect, as there is an unnecessary factor <code>log&#40;e&#41;</code> &#40;equal to 1&#41;.</p>
<h2 id="further_reading"><a href="#further_reading">Further reading</a></h2>
<p>Documentation sites for the packages used in this post are very useful. There is also <a href="https://calculuswithjulia.github.io/">Calculus with Julia</a>, a nice explanation for doing anything mathematical from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>+</mo><mn>2</mn></mrow><annotation encoding="application/x-tex"> 2 + 2 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> up to triple integrals.</p>
    </div>
    </div>
    <hr>
    <p class="text-muted">
      &copy; Zlatan Vasović.
      Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
      <a type="application/rss+xml" href="/feed.xml">RSS</a> available.
    </p>
</div><!-- CONTENT ENDS HERE -->
    
      



    
    
      


    

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-33643623-2', 'zlatanvasovic.github.io');
      ga('send', 'pageview');
    </script>
  </body>
</html>
